<?xml version="1.0"?>

<odoo>

    <!-- Vue tree pour le modèle estate.property.offers -->
    <record id="estate_property_offers_tree_view" model="ir.ui.view">
        <field name="name">estate.property.offers.tree.view</field>
        <field name="model">estate.property.offers</field>
        <field name="arch" type="xml">
            <tree>
                <field name="price"/>
                <field name="partner_id"/>
                <field name="validity"/>
                <field name="date_deadline"/>

                <!-- 
                Pour pouvoir utiliser l'attribut invisible, il faut que le champ sur lequel on fasse la condition soit également charger dans la vue.
                Ici, la condition d'invisibilité est sur le champ status.
                Tout fonctionne car on bien le <field name="status"/> dans la vue.
                Si on commentait cette ligne, on aurait une erreur.
                 -->

                <button name="action_accept_offer" string="Accept" type="object" icon="fa-check" invisible="status"/>
                <button name="action_refuse_offer" string="Refuse" type="object" icon="fa-times" invisible="status"/>
                <field name="status"/>
                <!-- <field name="property_id"/> -->
            </tree>
        </field>
    </record>

    <!-- Vue form pour le modèle estate.property.offers -->
    <record id="estate_property_offers_form_view" model="ir.ui.view">
        <field name="name">estate.property.offers.form.view</field>
        <field name="model">estate.property.offers</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <group>
                        <field name="create_date"/>
                        <field name="price"/>
                        <field name="partner_id"/>
                        <field name="validity"/>
                        <field name="date_deadline"/>
                        <field name="status"/>
                        <!-- <field name="property_id"/> -->
                    </group>
                </sheet>
            </form>
        </field>
    </record>


</odoo>